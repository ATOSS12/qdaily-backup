<h1>输错一个字母的代价，亚马逊云服务出现故障四小时_智能_好奇心日报
</h1><p><img src="http://img.qdaily.com/article/article_show/20170303172854NSL1ZDa8OGKUlW0i.jpg?imageMogr2/auto-orient/thumbnail/!755x450r/gravity/Center/crop/755x450/ignore-error/1"></p><div class="article-detail-bd"><div class="author-share clearfix">   <div class="author">  <a rel="nofollow" href="javascript:void(0)" class="avatar x32 circle"><img src="http://img.qdaily.com/user/face/20190128000025sMDOJ7c5gmklZ60y.JPG?imageMogr2/auto-orient/thumbnail/!80x80r/gravity/Center/crop/80x80/ignore-error/1"/> </a>  <span class="name">龚方毅</span><span class="date smart-date" data-origindate="2017-03-03 18:21:01 +0800"/><script language="JavaScript" type="text/javascript"><![CDATA[var o="div",a=" style='disp",b="lay:",c="none'";document.write("<"+o+a+b+c+">")]]></script><span class="date">2017-03-03 18:21:01</span><script language="JavaScript" type="text/javascript"><![CDATA[var o="div";document.write("</"+o+">")]]></script></div>      <div class="com-share-favor" data-id="38389" data-title="《输错一个字母的代价，亚马逊云服务出现故障四小时》，来自@好奇心日报" data-pic="http://img.qdaily.com/article/article_show/20170303172854NSL1ZDa8OGKUlW0i.jpg?imageMogr2/auto-orient/thumbnail/!640x380r/gravity/Center/crop/640x380/ignore-error/1" data-url="http://www.qdaily.com/articles/38389.html" data-weiboappkey="2462590045"><div class="share-favor-bd clearfix"><a rel="nofollow" data-ga-event="pc:share:weixin" href="javascript:void(0)" class="share iconfont icon-weixin"/><a rel="nofollow" data-ga-event="pc:share:weibo" href="http://service.weibo.com/share/share.php" class="share iconfont icon-weibo"/><a rel="nofollow" data-ga-event="pc:share:tengxunweixin" href="http://share.v.t.qq.com/index.php" class="share iconfont icon-tengxunweibo"/><a rel="nofollow" data-ga-event="pc:share:kongjian" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey" class="share iconfont icon-kongjian"/><a rel="nofollow" data-ga-event="pc:share:douban" href="http://www.douban.com/share/service" class="share iconfont icon-douban"/><a rel="nofollow" data-ga-event="pc:share:linkedin" href="http://www.linkedin.com/shareArticle" class="share iconfont icon-linkedin"/>  <a rel="nofollow" data-ga-event="pc:favor:aritcle" href="#" class="favor iconfont icon-heart"><span class="num  smart-count" data-origincount="60"/></a>  </div></div> </div>  <p class="excerpt">由于程序员打错一个字母，误删了很多服务器，直接导致亚马逊 S3 出现故障。</p>  <div class="detail">  

<p>        <style type="text/css"><![CDATA[ p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #1a1a1a; -webkit-text-stroke: #1a1a1a} span.s1 {font-kerning: none} span.s2 {text-decoration: underline ; font-kerning: none} ]]></style>  </p>
<p><a href="https://www.bloomberg.com/news/articles/2017-02-28/amazon-web-services-reports-high-error-rates-with-data-storage" rel="nofollow">美国时间本周二，亚马逊 S3 存储服务出现故障</a>。这导致包括美国证券交易委员会、苹果 iCloud、Soundcloud、Slack、芝加哥轨道交通系统 Metra 在内的多个网站和服务无法正常工作。此次服务故障持续时间接近 4 个小时。</p>
<p><a href="https://aws.amazon.com/message/41926/" rel="nofollow">今天亚马逊在其官方博客发文称</a>，这次位于北弗吉尼亚州地区发生的服务中断，原因是人为操作失误。</p>
<p>当时，因为 S3 结算系统处理变慢了，亚马逊团队正在调试。一位得到授权的团队亚马逊员工，本来准备删除少量 S3 子系统来解决问题，结果输入命令时不小心打错一个字母，结果删除了一大批本不该删除的服务器。</p>
<p>被误删的服务器支持另外两个亚马逊 S3 服务重要的子系统，由于误删服务器数量太多，导致每个系统都需要完全重启。在子系统重启过程中，亚马逊 S3 无法处理服务请求。所以诸多使用 S3 的网站、应用出现故障。苹果 iCloud、Soundcloud、Slack 等使用亚马逊云服务的产品连不上了。</p>
<p>亚马逊花了近四个小时完成所有跟 S3 服务有关的重启、恢复工作。接着他们还对工作流程做了优化，程序员无法再通过预设工具快速执行删除命令，“在这次事件中，索引子系统的恢复时间超出我们预期。S3 团队原计划今年晚些时候对索引子系统进一步分区，我们正在重新调整工作优先级，马上开始进行分区。”<a href="https://aws.amazon.com/message/41926/" rel="nofollow">亚马逊在博客中这样写道。</a></p>
<p><img data-format="jpg" data-ratio="0.413013" class="lazylaad lazyload" alt="" src="http://img.qdaily.com/uploads/20160918124606JSpdaCk3eAlgqD5x.jpg-w600"/></p>
<p>亚马逊 S3 全称 Amazon Simple Storage Service，是亚马逊云服务系统中提供在线存储、也就是“网盘”功能的服务。这项服务没有最低收费，<a href="https://aws.amazon.com/cn/s3/pricing/" rel="nofollow">每月按照实际使用情况和使用的不同 S3 存储段结算费用。</a>亚马逊在 S3 介绍页面说该服务稳定、设计在线时间达到 99.999999999%。</p>
<p class="">但这次问题还是发生了，持续时间还不短。</p>
<p><a href="https://www.theregister.co.uk/2015/09/20/aws_database_outage/" style="background-color: rgb(255, 255, 255);" rel="nofollow">之前 2015 年 9 月</a>，亚马逊云服务也发生过大规模故障，也是 US-EAST-1 地区客户受到影响。包括 Netflix、Reddit、Tinder 以及亚马逊图书子站在内的多个网络服务无法工作。<br/></p>
<p class=""><br/></p>
<p class="">题图/<a href="http://theremotelab.com/images/portfolio/aws.jpg" rel="nofollow">TheRemotelab</a></p>

 <div class="embed-mask"><div class="embed-bd"><span class="triangle"/><div class="play"/></div><div class="embed-control"><span class="player"/><div class="bar"><span/></div><span class="sound iconfont icon-shengyin"/></div></div><p><img data-format="jpg" data-ratio="0.456667" class="lazyload lazylood" src="http://img.qdaily.com/uploads/20160725204735MvuXsg6iz3bhj7yi.jpg-w600" alt=""/></p><p class="lazylood">喜欢这篇文章？去 App 商店搜 <a href="http://m.qdaily.com/mobile/downloads/empty/2">好奇心日报</a> ，每天看点不一样的。</p></div></div>